name: push-in-other-repository
on: push

jobs:
    push-other-repository:
        runs-on: ubuntu-latest
        name: Push in other repository

        steps:
        - name: Get repository A
          id: repoA
          uses: actions/checkout@main
          with:
            path: ./pruebaAction

        - name: Get repository B
          id: repoB
          uses: actions/checkout@main
          with: 
            repository: angelcanada0/action-destino
            token: ${{ secrets.API_TOKEN_GITHUB }}
            path: ./action-destino

        - name: Push repository destination
          run: |
            cd ./action-destino
            echo "Prueba 1" > test.txt
            git add .
            git config user.name angelcanada0
            git config user.email angel.canada.munoz@accenture.com
            git commit -am "Repository push into repository destination"
            git push

        
        - name: Build Docker
          run: docker build --tag python-docker .
        - name: push version python to other repository
          run: 
              | docker push python-docker